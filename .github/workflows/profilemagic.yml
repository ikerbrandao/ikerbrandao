# âœ¨ Workflow: Perfil DinÃ¢mico e AnimaÃ§Ã£o Snake âœ¨
# Gera automaticamente a animaÃ§Ã£o do "snake" e mantÃ©m seu perfil vivo no GitHub ğŸŒ±
# Autor: Iker BrandÃ£o ğŸ’»

name: ğŸ Generate Dynamic Snake Animation

on:
  # Executa todo dia Ã s 6h da manhÃ£ (UTC)
  schedule:
    - cron: "0 6 * * *"
  # Permite execuÃ§Ã£o manual
  workflow_dispatch:

jobs:
  build:
    name: ğŸ§© Construir Snake Animation
    runs-on: ubuntu-latest

    steps:
      # 1ï¸âƒ£ Faz checkout do seu repositÃ³rio
      - name: ğŸ” Clonando repositÃ³rio
        uses: actions/checkout@v4

      # 2ï¸âƒ£ Gera as animaÃ§Ãµes usando Platane/snk
      - name: ğŸ Gerando animaÃ§Ã£o da cobra
        uses: Platane/snk@v3
        with:
          github_user_name: ${{ github.repository_owner }}
          outputs: |
            output/github-contribution-grid-snake.svg
            output/github-contribution-grid-snake-dark.svg?palette=github-dark
            output/github-contribution-grid-snake-light.svg?palette=github-light

      # 3ï¸âƒ£ Adiciona um toque de personalizaÃ§Ã£o
      - name: âœ¨ Criando log bonito
        run: |
          echo "============================================="
          echo "ğŸ Cobra gerada com sucesso!"
          echo "ğŸ’¾ Arquivos salvos em: ./output/"
          echo "ğŸ•’ Atualizado automaticamente todos os dias Ã s 6h UTC"
          echo "============================================="

      # 4ï¸âƒ£ Envia os arquivos gerados de volta ao repositÃ³rio
      - name: ğŸš€ Fazendo commit e push das mudanÃ§as
        uses: EndBug/add-and-commit@v9
        with:
          author_name: "GitHub Action Bot ğŸ¤–"
          author_email: "actions@github.com"
          message: "âœ¨ AtualizaÃ§Ã£o automÃ¡tica: animaÃ§Ã£o snake gerada!"
          add: "output/*.svg"
